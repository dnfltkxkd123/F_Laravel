<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" type="text/css" href="style.css" >
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>
  $(function(){
	  $('#joinForm').submit(function(){
		  var check = $('#user_id').data('check') 
		  &&  $('#user_pwd').data('check') ;
		  if(!check){
			  alert('회원 정보를 다시 확인 해 주세요.');
			  return false;
		  }
	  });
	  $('#user_id').keyup(function(){
		  var text = $(this).val();
		  var regex = /^[a-zA-Z0-9_.-]{1,}@[a-zA-Z0-9-]{3,}([.][a-zA-Z]{2,}){1,}$/g;
		  var msg = regex.test(text) ? "사용가능한 아이디 입니다." : "아이디는 이메일 형식이어야 합니다.";
		  if(regex.test(text)){
			  msg = "사용가능한 아이디 입니다.";
			  $(this).data('check',true);
		  }else{
			  msg = "아이디는 이메일 형식이어야 합니다.";
			  $(this).data('check',false);
		  }
		  $('#user_id_error').html(msg);
	  });
	  
	  $('#user_pwd').keyup(function(){
		  var text = $(this).val();
		  if(/[a-z]/.test(text) 
		  && /[A-Z]/.test(text)
		  && /[0-9]/.test(text)
		  && /[!@#$%^&*()_+|]/.test(text)
		  && /.{6,}/.test(text)){
		  }else{
		  }
	  });
  });
  </script>
 </head>
 <body>
 <h2>회원가입</h2>
 <form method="post" id="joinForm">
	 <fieldset>
		 <legend>필수 항목</legend>
		 <div class="input row">
			<label for="user_id">아이디</label>
			<input type="text" id="user_id" name="user_id" value="" placeholder="아이디" required >
			<span id="user_id_error" class="error"></span>
		 </div>
		 <div class="input row">
			<label for="user_pwd">비밀번호</label>
			<input type="text" id="user_pwd" name="user_pwd" value="" placeholder="비밀번호" required >
			<span id="user_pwd_error" class="error"></span>
		 </div>
		 <div class="submit row">
			<input type="submit" value="전송" />
		 </div>

	 </fieldset>
 </form>
  
 </body>
</html>